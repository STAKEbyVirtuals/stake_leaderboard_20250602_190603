# STAKE 프로젝트 진행상황 요약

## 📊 프로젝트 개요
- **목적**: STAKE 토큰 스테이킹 생태계 구축 + 게이미피케이션 리더보드
- **핵심**: 8단계 티어 시스템 + Phase별 토큰 할당 + 실시간 점수 계산
- **기술 스택**: Next.js 13 + TypeScript + Tailwind CSS + RainbowKit (Base 체인)

## ✅ 완료된 핵심 기능들

### 1단계: 구글폼 트윗 검증 시스템 (완료)
- **5단계 자동 검증**: URL중복, 지갑중복, X계정중복, 계정연령(30일+), 트윗내용 검증
- **보상**: 50,000 stSTAKE 지급
- **구현**: 구글폼 + 구글 스크립트 + 서버사이드 검증
- **경제적 억제**: 95%+ 부정행위 차단, 봇 운영 비용 1000%↑

### X 트윗 이벤트 플로우 (완료)
- **사용자 여정**: 8단계 완료 → 증명서 생성 → 다운로드/복사 → X 트윗 → 구글폼 제출
- **증명서**: 원본 홍보이미지(1024×1536) + 개인정보 오버레이
- **플로우 개선**: 자동 트윗 제거 → 사용자 선택적 트윗

### UI/UX 시스템 (완료)
- **모바일 최적화**: 완전 반응형, 터치 친화적(44px+ 버튼)
- **모달 시스템**: 스크롤 최적화, 고정바 회피, 2단계 JEET 경고
- **증명서 생성**: Canvas 기반, 다운로드/클립보드 지원

## 🚧 현재 진행중 (2단계)

### stSTAKE 데이터 구조 확장
```javascript
// 목표 데이터 구조
{
  total_staked: 1000000,        // 실제 스테이킹
  virtual_staked: 50000,        // 이벤트 보상
  virtual_staked_date: "2025-06-15", // 받은 날짜
  holding_days: 90              // 전체 보유 기간
}
```

### 실시간 누적 점수 계산 (핵심)
```javascript
// 공정한 적분 방식
realScore = total_staked × holding_days
virtualScore = virtual_staked × (받은 후 경과일만)
totalScore = realScore + virtualScore
```

## 🎯 개발 방향성 및 성향

### 게이미피케이션 중시
- **실시간성 극대화**: 초단위 점수 계산, 매초 UI 업데이트
- **즉시 반응**: 스테이킹 후 1-2분 내 점수 반영 (하이브리드 추적)
- **시각적 임팩트**: 게이밍 스타일 UI, 애니메이션, 글로우 효과

### 사용자 경험 우선
- **모바일 퍼스트**: 모든 기능 모바일 최적화 필수
- **직관적 플로우**: 복잡한 과정 단순화, 명확한 안내
- **접근성**: 터치 친화적 디자인, 충분한 여백

### 보안과 공정성 강조
- **다층 검증**: 5단계 자동 검증 + 관리자 최종 승인
- **부정행위 차단**: 경제적 억제 + 기술적 제한
- **투명성**: 실제 vs 가상 stSTAKE 분리 표시

### 완성도 추구
- **엣지 케이스 고려**: VIRGEN 티어, JEET 경고, Phase 전환
- **단계별 완성**: 각 기능을 완전히 완성 후 다음 단계 진행
- **통합적 사고**: 개별 기능이 전체 시스템과 조화

## 🎮 핵심 시스템 구조

### 8단계 티어 시스템
```
🐸 VIRGEN (x0) → 🆕 SIZZLIN' NOOB (x1.0) → 🔁 FLIPSTARTER (x1.1) 
→ 🔥 FLAME JUGGLER (x1.25) → 🧠 GRILLUMINATI (x1.4) 
→ 🧙‍♂️ STAKE WIZARD (x1.6) → 🥩 HEAVY EATER (x1.8) → 🌌 GENESIS OG (x2.0)
```

### 3가지 티어 업그레이드 트랙
- **⚡ Fast Track**: 100K 추가 스테이킹 → 즉시 1티어 업
- **📅 Regular Track**: 5일 후 → 자동 1티어 업  
- **💎 Diamond Hand**: 페이즈 끝까지 홀딩 → 1티어 업 (24시간 이내 참여자만)

### Phase 시스템
- **Phase 1**: 현재 진행중 (2025.06.30까지)
- **Phase 종료 시**: 클레임 vs 계속 선택 + 2단계 JEET 경고
- **자동 전환**: Phase 2 시작 시 참여 모달

## 🛠️ 기술 구현 특징

### 하이브리드 추적 시스템
- **정확성**: 6시간 GitHub Action (공식 데이터)
- **즉시성**: 1-2분 사용자 새로고침 (게임성)
- **목적**: 게이미피케이션 극대화

### 데이터 처리 방식
- **현재**: leaderboard.json + 구글 시트 연동
- **확장**: virtual_staked 필드 추가 예정
- **계산**: 실시간 점수 vs 저장된 점수 분리

## 📋 다음 단계 로드맵

### 2단계 (진행중): stSTAKE 데이터 구조 확장
- pages/index.tsx 타입 확장
- utils/tier.ts 점수 계산 로직 업데이트  
- 실시간 누적 점수 적용

### 3단계: 빠른 업데이트 시스템
- 사용자 새로고침 버튼
- RPC 호출 로직
- 임시 데이터 관리

### 4단계: 대시보드 UI 완성
- 실제 vs 가상 stSTAKE 분리 표시
- 게이밍 스타일 티어 카드
- 완전체 대시보드 (5개 지표, 순위 예측, 할당량 등)

### 5단계: 점수 계산 완성
- 실시간 누적 방식 적용
- 투명한 계산 로직
- 성능 최적화

## 🔧 중요 설정값

### 검증 시스템
- X 계정 연령: 30일 이상
- 트윗 글자수: 54글자 이하
- 이벤트 보상: 50,000 stSTAKE

### UI/UX 기준
- 모바일 기준점: 768px
- 터치 버튼: 최소 44px
- 애니메이션: 성능 우선, 의미 있는 피드백만

### 색상 시스템 (EvolutionJourney.jsx 기준)
```javascript
Genesis OG: #10b981 (에메랄드)
Heavy Eater: #ef4444 (빨강)  
Stake Wizard: #eab308 (노랑)
Grilluminati: #8b5cf6 (보라)
Flame Juggler: #3b82f6 (파랑)
Flipstarter: #22c55e (초록)
Sizzlin' Noob: #ffffff (흰색)
Virgen: #6b7280 (회색)
```

---
*최종 업데이트: 2025.06.08*